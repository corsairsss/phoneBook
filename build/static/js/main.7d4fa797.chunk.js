(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var r,a,c,o,u=n(0),s=n.n(u),i=n(18),l=n.n(i),b=n(1),p=n(35),f=n(48),h=n.n(f),m=n(4),g=n(53),O=n(6),d=n(9),j=Object(b.c)([],(r={},Object(m.a)(r,d.a.addContactSuccess,(function(e,t){var n=t.payload;return[].concat(Object(g.a)(e),[n])})),Object(m.a)(r,d.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(m.a)(r,d.a.removeContactsSuccess,(function(e,t){var n=t.payload;return e.filter((function(e){return e._id!==n}))})),r)),v=Object(b.c)("",Object(m.a)({},d.a.changeFilter,(function(e,t){return t.payload}))),k=Object(b.c)(!1,(a={},Object(m.a)(a,d.a.addContactRequest,(function(){return!0})),Object(m.a)(a,d.a.addContactSuccess,(function(){return!1})),Object(m.a)(a,d.a.addContactError,(function(){return!1})),Object(m.a)(a,d.a.fetchContactsRequest,(function(){return!0})),Object(m.a)(a,d.a.fetchContactsSuccess,(function(){return!1})),Object(m.a)(a,d.a.fetchContactsError,(function(){return!1})),Object(m.a)(a,d.a.removeContactsRequest,(function(){return!0})),Object(m.a)(a,d.a.removeContactsSuccess,(function(){return!1})),Object(m.a)(a,d.a.removeContactsError,(function(){return!1})),a)),E=Object(O.c)({items:j,filter:v,loading:k}),C=Object(b.c)("light",Object(m.a)({},d.a.changeTheme,(function(e,t){return t.payload}))),y=Object(O.c)({theme:C}),S=n(7),_={name:null,email:null},x=function(e,t){return t.payload.user},w=Object(b.c)(_,(c={},Object(m.a)(c,S.a.registerSuccess,x),Object(m.a)(c,S.a.logInSuccess,x),Object(m.a)(c,S.a.logOutSuccess,(function(){return _})),Object(m.a)(c,S.a.getCurrentUserSuccess,(function(e,t){return t.payload})),c)),R=Object(b.c)(null,(o={},Object(m.a)(o,S.a.registerSuccess,(function(e,t){return t.payload.token})),Object(m.a)(o,S.a.logInSuccess,(function(e,t){return t.payload.token})),Object(m.a)(o,S.a.logOutSuccess,(function(){return null})),o)),q=Object(O.c)({user:w,token:R}),B={key:"auth",storage:h.a,whitelist:["token"]},L=Object(b.a)({reducer:{contacts:E,PhBookTheme:y,auth:Object(p.a)(B,q)}}),U=Object(p.b)(L),I=n(8),N=n(49),T=n(16),F=n(5),z=[{path:"/",label:"Home",exact:!0,component:Object(u.lazy)((function(){return n.e(6).then(n.bind(null,118))})),privat:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(u.lazy)((function(){return n.e(5).then(n.bind(null,120))})),privat:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(u.lazy)((function(){return n.e(4).then(n.bind(null,121))})),privat:!1,restricted:!0},{path:"/books",label:"Books",exact:!0,component:Object(u.lazy)((function(){return n.e(3).then(n.bind(null,119))})),privat:!0,restricted:!1}],A=n(26),D=function(e){return e.auth.token},M=function(e){return e.auth.user.name},H=function(e){var t=e.component,n=Object(A.a)(e,["component"]),r=Object(I.d)(D);return s.a.createElement(F.b,Object.assign({},n,{render:function(e){return r?s.a.createElement(t,e):s.a.createElement(F.a,{to:"/login"})}}))},P=function(e){var t=e.component,n=Object(A.a)(e,["component"]),r=Object(I.d)(D);return s.a.createElement(F.b,Object.assign({},n,{render:function(e){return r&&n.restricted?s.a.createElement(F.a,{to:"/books"}):s.a.createElement(t,e)}}))},J=n(107),V=n(50),W=n.n(V),K={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},Y=function(){var e=Object(I.d)(D);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"PhoneBook"),s.a.createElement("nav",{className:W.a.list},s.a.createElement(T.b,{exact:!0,to:"/",style:K.link,activeStyle:K.activeLink},"Home"),e&&s.a.createElement(T.b,{exact:!0,to:"/books",style:K.link,activeStyle:K.activeLink},"Books"),!e&&s.a.createElement(s.a.Fragment,null,s.a.createElement(T.b,{exact:!0,to:"/register",style:K.link,activeStyle:K.activeLink},"Register"),s.a.createElement(T.b,{exact:!0,to:"/login",style:K.link,activeStyle:K.activeLink},"Login"))))},G=n(24),Q=n(27),X=n.n(Q);var Z=function(){var e=Object(I.d)(M),t=Object(I.c)();return s.a.createElement("div",{className:X.a.wrapper},s.a.createElement("span",{className:X.a.title},"Wellcome,",e),s.a.createElement("button",{className:X.a.btn,type:"button",onClick:function(){return t(G.a.logOut())}},"Logout"))};var $=function(){var e=Object(I.d)(D);return s.a.createElement(s.a.Fragment,null,"string"===typeof e&&s.a.createElement(Z,null),s.a.createElement(Y,null))},ee=n(23),te={light:{color:"#000000",backgroundColor:"#ffffff"},dark:{color:"#ffffff",backgroundColor:"#000000"}},ne=n(34),re=n.n(ne),ae=Object(I.b)((function(e){return{theme:ee.a.getTheme(e)}}))((function(e){var t=e.theme,n=e.title,r=e.children;return s.a.createElement("section",{className:re.a.container,style:te[t]},s.a.createElement(J.a,{in:!0,appear:!0,timeout:1e3,classNames:re.a,unmountOnExit:!0},s.a.createElement("h2",null,n)),s.a.createElement($,null),r)})),ce=n(28),oe=n.n(ce),ue=function(){var e=Object(I.c)();return s.a.createElement("div",{className:oe.a.container},s.a.createElement("p",null,"Ligth"),s.a.createElement("input",{onChange:function(t){var n=t.target.checked;n||e(d.a.changeTheme("light")),n&&e(d.a.changeTheme("dark"))},type:"checkbox",id:"payt2",className:oe.a.payt2}),s.a.createElement("label",{className:oe.a.label,for:"payt2"},"ON"),s.a.createElement("p",null,"Dark"))},se=n(51),ie=n.n(se),le=(n(104),n(52)),be=n.n(le);function pe(){return s.a.createElement("div",{className:be.a.container},s.a.createElement(ie.a,{type:"ThreeDots",color:"#563fd6e6",height:100,width:100}))}var fe=function(){var e=Object(I.d)(ee.a.getLoading),t=Object(I.c)();return Object(u.useEffect)((function(){t(G.a.getCurrentUser())}),[]),s.a.createElement(T.a,null,s.a.createElement(ue,null),s.a.createElement(ae,null,e&&s.a.createElement(pe,null),s.a.createElement(u.Suspense,{fallback:s.a.createElement("h1",null,"Loading...")},s.a.createElement(F.d,null,z.map((function(e){return e.privat?s.a.createElement(H,Object.assign({key:e.label},e)):s.a.createElement(P,Object.assign({key:e.label},e))}))))))};l.a.render(s.a.createElement(I.a,{store:L},s.a.createElement(N.a,{loading:null,persistor:U},s.a.createElement(fe,null))),document.querySelector("#root"))},23:function(e,t,n){"use strict";var r=n(14),a=function(e){return e.contacts.items},c=function(e){return e.contacts.filter},o=Object(r.a)([a,c],(function(e,t){return e.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())}))}));t.a={getContacts:a,getFilter:c,getLoading:function(e){return e.contacts.loading},getTheme:function(e){return e.PhBookTheme.theme},getConatctList:o,getContactItem:function(e,t){return a(e).find((function(e){return e._id===t}))}}},24:function(e,t,n){"use strict";var r=n(17),a=n.n(r),c=n(22),o=n(19),u=n.n(o),s=n(7),i=function(e){u.a.defaults.headers.common.Authorization="Bearer ".concat(e)},l=function(){u.a.defaults.headers.common.Authorization=""};t.a={register:function(e){var t=e.name,n=e.email,r=e.password,o=e.passwordConfirm;return function(){var e=Object(c.a)(a.a.mark((function e(c){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(s.a.registerRequest()),e.prev=1,e.next=4,u.a.post("https://fierce-plateau-20788.herokuapp.com/users/signup",{name:t,email:n,password:r,passwordConfirm:o});case 4:l=e.sent,b=l.data,i(b.token),c(s.a.registerSuccess(b)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c(s.a.registerError(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){var t=e.email,n=e.password;return function(){var e=Object(c.a)(a.a.mark((function e(r){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(s.a.logInRequest()),e.prev=1,e.next=4,u.a.post("https://fierce-plateau-20788.herokuapp.com/users/signin",{email:t,password:n});case 4:c=e.sent,o=c.data,i(o.token),r(s.a.logInSuccess(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(s.a.logInError(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(s.a.logOutRequest()),e.prev=1,e.next=4,u.a.post("https://fierce-plateau-20788.herokuapp.com/users/logout");case 4:l(),t(s.a.logOutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(s.a.logOutError(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.auth.token){e.next=4;break}return e.abrupt("return");case 4:return i(c),t(s.a.getCurrentUserRequest()),e.prev=6,e.next=9,u.a.get("https://fierce-plateau-20788.herokuapp.com/users/current");case 9:o=e.sent,l=o.data,t(s.a.getCurrentUserSuccess(l)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),t(s.a.getCurrentUserError(e.t0));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()}}},27:function(e,t,n){e.exports={title:"UserMenu_title__3BIcD",wrapper:"UserMenu_wrapper__2jT_f",btn:"UserMenu_btn__1einH"}},28:function(e,t,n){e.exports={container:"CheckBox_container__1MEhY",payt2:"CheckBox_payt2__2cbfP",label:"CheckBox_label__2VDl9"}},34:function(e,t,n){e.exports={container:"Section_container__3VywM",appear:"Section_appear__tdCv-",appearActive:"Section_appearActive__29yDB"}},50:function(e,t,n){e.exports={list:"Navigation_list__31_HR"}},52:function(e,t,n){e.exports={container:"Spiner_container__2qKU_"}},55:function(e,t,n){e.exports=n(105)},7:function(e,t,n){"use strict";var r=n(1),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/logInRequest"),s=Object(r.b)("auth/logInSuccess"),i=Object(r.b)("auth/logInError"),l=Object(r.b)("auth/logOutRequest"),b=Object(r.b)("auth/logOutSuccess"),p=Object(r.b)("auth/logOutError"),f=Object(r.b)("auth/getCurrentUserRequest"),h=Object(r.b)("auth/getCurrentUserSuccess"),m=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:o,logInRequest:u,logInSuccess:s,logInError:i,logOutRequest:l,logOutSuccess:b,logOutError:p,getCurrentUserRequest:f,getCurrentUserSuccess:h,getCurrentUserError:m}},9:function(e,t,n){"use strict";var r=n(1),a=Object(r.b)("phoneBook/addRequest"),c=Object(r.b)("phoneBook/addSuccess"),o=Object(r.b)("phoneBook/addError"),u=Object(r.b)("phoneBook/fetchRequest"),s=Object(r.b)("phoneBook/fetchSuccess"),i=Object(r.b)("phoneBook/fetchError"),l=Object(r.b)("phoneBook/removeRequest"),b=Object(r.b)("phoneBook/removeSuccess"),p=Object(r.b)("phoneBook/removeError"),f=Object(r.b)("phoneBook/changeFilter"),h=Object(r.b)("phoneBook/changeTheme");t.a={addContactRequest:a,addContactSuccess:c,addContactError:o,fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,removeContactsRequest:l,removeContactsSuccess:b,removeContactsError:p,changeFilter:f,changeTheme:h}}},[[55,1,2]]]);
//# sourceMappingURL=main.7d4fa797.chunk.js.map