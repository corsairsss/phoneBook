{"version":3,"sources":["redux/PhoneBook/phoneBookReducer.js","redux/PhoneBook/PBThemeReducer.js","redux/auth/authReducer.js","redux/store.js","routes.js","redux/auth/authSelectors.js","components/Routes/PrivateRoute.js","components/Routes/PublicRoute.js","components/Navigation/NavigationStyle.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/Header/Header.js","configStyles/configStyle.js","components/Section/Section.js","components/CheckBox/CheckBox.js","components/Spinner/Spinner.js","components/App.js","index.js","redux/PhoneBook/phoneBookSelectors.js","redux/auth/authOperation.js","components/UserMenu/UserMenu.module.css","components/CheckBox/CheckBox.module.css","components/Section/Section.module.css","components/Navigation/Navigation.module.css","components/Spinner/Spiner.module.css","redux/auth/authActions.js","redux/PhoneBook/phoneBookActions.js"],"names":["items","createReducer","phoneBookActions","addContactSuccess","state","payload","fetchContactsSuccess","removeContactsSuccess","filter","item","_id","changeFilter","loading","addContactRequest","addContactError","fetchContactsRequest","fetchContactsError","removeContactsRequest","removeContactsError","combineReducers","theme","changeTheme","initialState","name","email","addUser","_","user","authActions","registerSuccess","logInSuccess","logOutSuccess","getCurrentUserSuccess","token","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contacts","phoneBookReducer","PhBookTheme","PBThemeReducer","auth","persistReducer","authReducer","persistor","persistStore","path","label","exact","component","lazy","privat","restricted","PrivateRoute","Component","routeProps","isAuthenticated","useSelector","authSelectors","render","props","to","PublicRoute","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","isAuth","className","s","list","style","activeStyle","UserMenu","dispatch","useDispatch","wrapper","title","btn","type","onClick","authOperation","logOut","Header","light","backgroundColor","dark","connect","phoneBookSelectors","getTheme","children","container","themeConfig","CSSTransition","in","appear","timeout","classNames","unmountOnExit","Checkbox","onChange","e","checeked","target","checked","id","payt2","for","Spinner","height","width","App","getLoading","useEffect","getCurrentUser","fallback","routes","map","route","ReactDOM","document","querySelector","getContacts","getFilter","getConatctList","createSelector","toLocaleLowerCase","includes","getContactItem","contactId","find","contact","axios","defaults","headers","common","Authorization","register","password","passwordConfirm","a","registerRequest","post","data","registerError","logIn","logInRequest","logInError","logOutRequest","logOutError","getState","persistedToken","getCurrentUserRequest","get","getCurrentUserError","module","exports","createAction"],"mappings":"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","file":"static/js/main.7d4fa797.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport phoneBookActions from './phoneBookActions.js';\r\n\r\nconst onAddContact = (state, { payload }) => [...state, payload];\r\n\r\nconst onRemoveContact = (state, { payload }) =>\r\n  state.filter(item => item._id !== payload);\r\n\r\nconst items = createReducer([], {\r\n  [phoneBookActions.addContactSuccess]: onAddContact,\r\n  [phoneBookActions.fetchContactsSuccess]: (state, { payload }) => payload,\r\n  [phoneBookActions.removeContactsSuccess]: onRemoveContact,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [phoneBookActions.changeFilter]: (state, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [phoneBookActions.addContactRequest]: () => true,\r\n  [phoneBookActions.addContactSuccess]: () => false,\r\n  [phoneBookActions.addContactError]: () => false,\r\n  [phoneBookActions.fetchContactsRequest]: () => true,\r\n  [phoneBookActions.fetchContactsSuccess]: () => false,\r\n  [phoneBookActions.fetchContactsError]: () => false,\r\n  [phoneBookActions.removeContactsRequest]: () => true,\r\n  [phoneBookActions.removeContactsSuccess]: () => false,\r\n  [phoneBookActions.removeContactsError]: () => false,\r\n});\r\n\r\nexport default combineReducers({ items, filter, loading });\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport phoneBookActions from './phoneBookActions.js';\r\n\r\nconst theme = createReducer('light', {\r\n  [phoneBookActions.changeTheme]: (state, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({ theme });\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport authActions from './authActions.js';\r\n\r\nconst initialState = {\r\n  name: null,\r\n  email: null,\r\n};\r\nconst addUser = (_, { payload }) => payload.user;\r\nconst getUser = (_, { payload }) => payload;\r\n\r\n// const onRemoveContact = (state, { payload }) =>\r\n//   state.filter(item => item.id !== payload);\r\n\r\nconst user = createReducer(initialState, {\r\n  [authActions.registerSuccess]: addUser,\r\n  [authActions.logInSuccess]: addUser,\r\n  [authActions.logOutSuccess]: () => initialState,\r\n  [authActions.getCurrentUserSuccess]: getUser,\r\n\r\n  // [phoneBookActions.fetchContactsSuccess]: (state, { payload }) => payload,\r\n  // [phoneBookActions.removeContactsSuccess]: onRemoveContact,\r\n});\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logInSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logOutSuccess]: () => null,\r\n});\r\n\r\n// const filter = createReducer('', {\r\n//   [phoneBookActions.changeFilter]: (state, { payload }) => payload,\r\n// });\r\n\r\n// const loading = createReducer(false, {\r\n//   [phoneBookActions.addContactRequest]: () => true,\r\n//   [phoneBookActions.addContactSuccess]: () => false,\r\n//   [phoneBookActions.addContactError]: () => false,\r\n//   [phoneBookActions.fetchContactsRequest]: () => true,\r\n//   [phoneBookActions.fetchContactsSuccess]: () => false,\r\n//   [phoneBookActions.fetchContactsError]: () => false,\r\n//   [phoneBookActions.removeContactsRequest]: () => true,\r\n//   [phoneBookActions.removeContactsSuccess]: () => false,\r\n//   [phoneBookActions.removeContactsError]: () => false,\r\n// });\r\n\r\nexport default combineReducers({ user, token });\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web\r\n\r\nimport phoneBookReducer from './PhoneBook/phoneBookReducer.js';\r\nimport PBThemeReducer from './PhoneBook/PBThemeReducer.js';\r\nimport authReducer from './auth/authReducer.js';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: phoneBookReducer,\r\n    PhBookTheme: PBThemeReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import { lazy } from 'react';\r\n\r\nexport default [\r\n  {\r\n    path: '/',\r\n    label: 'Home',\r\n    exact: true,\r\n    component: lazy(() => import('./views/PhoneBookHome/PhoneBookHome.js')),\r\n    privat: false,\r\n    restricted: false,\r\n  },\r\n  {\r\n    path: '/register',\r\n    label: 'Register',\r\n    exact: true,\r\n    component: lazy(() => import('./components/SignUp/SignUp.js')),\r\n    privat: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: '/login',\r\n    label: 'Login',\r\n    exact: true,\r\n    component: lazy(() => import('./components/SignIn/SignIn.js')),\r\n    privat: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: '/books',\r\n    label: 'Books',\r\n    exact: true,\r\n    component: lazy(() => import('./views/PhoneBookView/PhoneBookView.js')),\r\n    privat: true,\r\n    restricted: false,\r\n  },\r\n];\r\n// component: lazy(() => import('./components/SignIn/SignIn.js')),\r\n","// import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getToken = state => state.auth.token;\r\nconst getName = state => state.auth.user.name;\r\n\r\nexport default { getToken, getName };\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/authSelectors.js';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nconst PrivateRoute = ({ component: Component, ...routeProps }) => {\r\n  const isAuthenticated = useSelector(authSelectors.getToken);\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport authSelectors from '../../redux/auth/authSelectors.js';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /tasks\r\n * - В противном случае рендерит компонент\r\n */\r\nconst PublicRoute = ({ component: Component, ...routeProps }) => {\r\n  const isAuthenticated = useSelector(authSelectors.getToken);\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthenticated && routeProps.restricted ? (\r\n          <Redirect to=\"/books\" />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","const styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\nexport default styles;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/authSelectors.js';\r\n\r\nimport s from './Navigation.module.css';\r\nimport styles from './NavigationStyle.js';\r\n// import routes from '../../routes.js';\r\n\r\nconst Navigation = () => {\r\n  const isAuth = useSelector(authSelectors.getToken);\r\n  return (\r\n    <>\r\n      <h1>PhoneBook</h1>\r\n      <nav className={s.list}>\r\n        <NavLink\r\n          exact\r\n          to=\"/\"\r\n          style={styles.link}\r\n          activeStyle={styles.activeLink}\r\n        >\r\n          Home\r\n        </NavLink>\r\n\r\n        {isAuth && (\r\n          <NavLink\r\n            exact\r\n            to=\"/books\"\r\n            style={styles.link}\r\n            activeStyle={styles.activeLink}\r\n          >\r\n            Books\r\n          </NavLink>\r\n        )}\r\n\r\n        {!isAuth && (\r\n          <>\r\n            <NavLink\r\n              exact\r\n              to=\"/register\"\r\n              style={styles.link}\r\n              activeStyle={styles.activeLink}\r\n            >\r\n              Register\r\n            </NavLink>\r\n            <NavLink\r\n              exact\r\n              to=\"/login\"\r\n              style={styles.link}\r\n              activeStyle={styles.activeLink}\r\n            >\r\n              Login\r\n            </NavLink>\r\n          </>\r\n        )}\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n// {\r\n//    {routes.map(route => (\r\n//       <NavLink\r\n//         exact={route.exact}\r\n//         key={route.label}\r\n//         to={route.path}\r\n//         style={styles.link}\r\n//         activeStyle={styles.activeLink}\r\n//       >\r\n//         {route.label}\r\n//       </NavLink>\r\n//     ))}\r\n// }\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport authOperation from '../../redux/auth/authOperation';\r\nimport authSelectors from '../../redux/auth/authSelectors';\r\n\r\nimport s from './UserMenu.module.css';\r\nfunction UserMenu() {\r\n  const name = useSelector(authSelectors.getName);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <span className={s.title}>Wellcome,{name}</span>\r\n      <button className={s.btn} type=\"button\" onClick={() => dispatch(authOperation.logOut())}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserMenu;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/authSelectors';\r\n\r\nimport Navigation from '../Navigation/Navigation.js';\r\nimport UserMenu from '../UserMenu/UserMenu.js';\r\n\r\nfunction Header() {\r\n  const isAuth = useSelector(authSelectors.getToken);\r\n  return (\r\n    <>\r\n      {typeof isAuth === 'string' && <UserMenu />}\r\n      {<Navigation />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default {\r\n  light: {\r\n    color: '#000000',\r\n    backgroundColor: '#ffffff',\r\n  },\r\n  dark: {\r\n    color: '#ffffff',\r\n    backgroundColor: '#000000',\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Header from '../Header/Header.js';\r\nimport phoneBookSelectors from '../../redux/PhoneBook/phoneBookSelectors.js';\r\n\r\nimport themeConfig from '../../configStyles/configStyle.js';\r\n\r\nimport s from './Section.module.css';\r\n\r\nconst Section = ({ theme, title, children }) => {\r\n  return (\r\n    <section className={s.container} style={themeConfig[theme]}>\r\n      <CSSTransition\r\n        in={true}\r\n        appear={true}\r\n        timeout={1000}\r\n        classNames={s}\r\n        unmountOnExit\r\n      >\r\n        <h2>{title}</h2>\r\n      </CSSTransition>\r\n      <Header />\r\n      {children}\r\n    </section>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    theme: phoneBookSelectors.getTheme(state),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Section);\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport phoneBookActions from '../../redux/PhoneBook/phoneBookActions.js';\r\n\r\nimport s from './CheckBox.module.css';\r\n\r\nconst Checkbox = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  function handleChange(e) {\r\n    const checeked = e.target.checked;\r\n    if (!checeked) dispatch(phoneBookActions.changeTheme('light'));\r\n    if (checeked) dispatch(phoneBookActions.changeTheme('dark'));\r\n  }\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <p>Ligth</p>\r\n      <input\r\n        onChange={handleChange}\r\n        type=\"checkbox\"\r\n        id=\"payt2\"\r\n        className={s.payt2}\r\n      />\r\n      <label className={s.label} for=\"payt2\">\r\n        ON\r\n      </label>\r\n      <p>Dark</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Spiner.module.css';\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div className={s.container}>\r\n      <Loader type=\"ThreeDots\" color=\"#563fd6e6\" height={100} width={100} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Suspense, useEffect } from 'react';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport routes from '../routes.js';\r\nimport PrivateRoute from './Routes/PrivateRoute.js';\r\nimport PublicRoute from './Routes/PublicRoute.js';\r\nimport Section from './Section/Section.js';\r\nimport Checkbox from './CheckBox/CheckBox';\r\nimport Spinner from './Spinner/Spinner.js';\r\n\r\nimport authOperation from '../redux/auth/authOperation.js';\r\nimport phoneBookSelectors from '../redux/PhoneBook/phoneBookSelectors.js';\r\n\r\nfunction App() {\r\n  const loading = useSelector(phoneBookSelectors.getLoading);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperation.getCurrentUser());\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Checkbox />\r\n      <Section>\r\n        {loading && <Spinner />}\r\n\r\n        <Suspense fallback={<h1>Loading...</h1>}>\r\n          <Switch>\r\n            {/* {routes.map(route => (\r\n              <Route key={route.path} {...route} />\r\n            ))} */}\r\n\r\n            {routes.map(route =>\r\n              route.privat ? (\r\n                <PrivateRoute key={route.label} {...route} />\r\n              ) : (\r\n                <PublicRoute key={route.label} {...route} />\r\n              ),\r\n            )}\r\n          </Switch>\r\n          {/* {typeof isAuth === 'string' && <PhoneBookView />} */}\r\n        </Suspense>\r\n      </Section>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { store, persistor } from './redux/store.js';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n// import persistor from './redux/store.js';\r\n\r\nimport App from './components/App.js';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.querySelector('#root'),\r\n);\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getContacts = state => state.contacts.items;\r\n\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getFilter = state => state.contacts.filter;\r\n\r\nconst getTheme = state => state.PhBookTheme.theme;\r\n\r\nconst getConatctList = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filter) => {\r\n    return contacts.filter(({ name }) =>\r\n      name.toLocaleLowerCase().includes(filter.toLocaleLowerCase()),\r\n    );\r\n  },\r\n);\r\n\r\n// const getContactItem = createSelector(\r\n//   [(_, contactId) => contactId, getContacts],\r\n//   (contactId, contacts) => contacts.find(contact => contact.id === contactId),\r\n// );\r\n\r\nconst getContactItem = (state, contactId) => {\r\n  const contacts = getContacts(state);\r\n  // console.log('ownProps', contactId);\r\n  // console.log(contacts[0]._id);\r\n  return contacts.find(contact => contact._id === contactId);\r\n};\r\n\r\nexport default {\r\n  getContacts,\r\n  getFilter,\r\n  getLoading,\r\n  getTheme,\r\n  getConatctList,\r\n  getContactItem,\r\n};\r\n","import axios from 'axios';\r\n\r\nimport authActions from './authActions.js';\r\n\r\n// axios.defaults.baseURL = 'https://fierce-plateau-20788.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = ({\r\n  name,\r\n  email,\r\n  password,\r\n  passwordConfirm,\r\n}) => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n  try {\r\n    const { data } = await axios.post(\r\n      'https://fierce-plateau-20788.herokuapp.com/users/signup',\r\n      {\r\n        name,\r\n        email,\r\n        password,\r\n        passwordConfirm,\r\n      },\r\n    );\r\n    token.set(data.token);\r\n    dispatch(authActions.registerSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error));\r\n  }\r\n};\r\n\r\nconst logIn = ({ email, password }) => async dispatch => {\r\n  dispatch(authActions.logInRequest());\r\n  try {\r\n    const { data } = await axios.post(\r\n      'https://fierce-plateau-20788.herokuapp.com/users/signin',\r\n      {\r\n        email,\r\n        password,\r\n      },\r\n    );\r\n    token.set(data.token);\r\n    dispatch(authActions.logInSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.logInError(error));\r\n  }\r\n};\r\n\r\nconst logOut = () => async dispatch => {\r\n  dispatch(authActions.logOutRequest());\r\n  try {\r\n    await axios.post('https://fierce-plateau-20788.herokuapp.com/users/logout');\r\n    token.unset();\r\n    dispatch(authActions.logOutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logOutError(error));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const state = getState();\r\n  const persistedToken = state.auth.token;\r\n  if (!persistedToken) return;\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  try {\r\n    const { data } = await axios.get(\r\n      'https://fierce-plateau-20788.herokuapp.com/users/current',\r\n    );\r\n    dispatch(authActions.getCurrentUserSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error));\r\n  }\r\n};\r\n\r\nexport default {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  getCurrentUser,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"UserMenu_title__3BIcD\",\"wrapper\":\"UserMenu_wrapper__2jT_f\",\"btn\":\"UserMenu_btn__1einH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CheckBox_container__1MEhY\",\"payt2\":\"CheckBox_payt2__2cbfP\",\"label\":\"CheckBox_label__2VDl9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Section_container__3VywM\",\"appear\":\"Section_appear__tdCv-\",\"appearActive\":\"Section_appearActive__29yDB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Navigation_list__31_HR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spiner_container__2qKU_\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\n// --------------------------------------------------------------------------------------\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst logInRequest = createAction('auth/logInRequest');\r\nconst logInSuccess = createAction('auth/logInSuccess');\r\nconst logInError = createAction('auth/logInError');\r\n\r\nconst logOutRequest = createAction('auth/logOutRequest');\r\nconst logOutSuccess = createAction('auth/logOutSuccess');\r\nconst logOutError = createAction('auth/logOutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  //\r\n  logInRequest,\r\n  logInSuccess,\r\n  logInError,\r\n  //\r\n  logOutRequest,\r\n  logOutSuccess,\r\n  logOutError,\r\n  //\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\n// --------------------------------------------------------------------------------------\r\n\r\nconst addContactRequest = createAction('phoneBook/addRequest');\r\nconst addContactSuccess = createAction('phoneBook/addSuccess');\r\nconst addContactError = createAction('phoneBook/addError');\r\n\r\nconst fetchContactsRequest = createAction('phoneBook/fetchRequest');\r\nconst fetchContactsSuccess = createAction('phoneBook/fetchSuccess');\r\nconst fetchContactsError = createAction('phoneBook/fetchError');\r\n\r\nconst removeContactsRequest = createAction('phoneBook/removeRequest');\r\nconst removeContactsSuccess = createAction('phoneBook/removeSuccess');\r\nconst removeContactsError = createAction('phoneBook/removeError');\r\n\r\nconst changeFilter = createAction('phoneBook/changeFilter');\r\n\r\nconst changeTheme = createAction('phoneBook/changeTheme');\r\n\r\nexport default {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  //\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  //\r\n  removeContactsRequest,\r\n  removeContactsSuccess,\r\n  removeContactsError,\r\n  //\r\n  changeFilter,\r\n  changeTheme,\r\n};\r\n"],"sourceRoot":""}